# Test: Messages & Chat
appId: com.nou09.Smuppy
name: "Messages - Conversations & Chat"
tags:
  - messages
  - social
---

# Launch app, dismiss overlays, and login if needed
- runFlow: shared/init-with-auth.yaml

# Navigate to Messages tab
- tapOn:
    id: "messages-tab"

- extendedWaitUntil:
    visible: "Direct"
    timeout: 10000

- takeScreenshot: "messages-list"

# Verify tabs exist
- assertVisible: "Direct"

# Scroll through conversations
- swipe:
    direction: UP
    duration: 400

- swipe:
    direction: DOWN
    duration: 400

# Search conversations
- tapOn:
    text: "Search conversations"
    optional: true

- inputText: "test"
- hideKeyboard

- takeScreenshot: "messages-search"

# Clear search and go back
- eraseText
- hideKeyboard

# Tap first conversation (if exists)
- tapOn:
    index: 0
    optional: true

- extendedWaitUntil:
    visible: "Message..."
    timeout: 5000
    optional: true

- takeScreenshot: "chat-screen"

# Type a message (don't send - just verify input works)
- tapOn:
    text: "Message..."
    optional: true

- inputText: "Maestro test message"
- hideKeyboard

- takeScreenshot: "chat-message-typed"

# Go back
- back
