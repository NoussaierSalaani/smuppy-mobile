# Test: Login Flow
appId: com.nou09.Smuppy
name: "Auth - Login Flow"
tags:
  - auth
  - critical
---

- launchApp:
    clearState: true

# Handle Expo Dev Launcher
- tapOn:
    text: "http://localhost:8081"
    optional: true

# Wait for welcome screen
- extendedWaitUntil:
    visible:
      id: "welcome-screen"
    timeout: 20000

# Tap login
- tapOn:
    id: "login-button"

# Wait for login screen
- extendedWaitUntil:
    visible:
      id: "login-screen"
    timeout: 10000

# Enter credentials
- tapOn:
    id: "email-input"
- inputText: "${TEST_EMAIL}"

- tapOn:
    id: "password-input"
- inputText: "${TEST_PASSWORD}"

# Submit login
- tapOn:
    id: "submit-login-button"

# Wait for feed
- extendedWaitUntil:
    visible: "Fan"
    timeout: 15000
