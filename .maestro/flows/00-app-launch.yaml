# Test: App Launch, Login, and Navigation
appId: com.nou09.Smuppy
name: "App - Full Navigation Test"
tags:
  - smoke
  - launch
  - auth
  - navigation
---

# Launch app
- launchApp

# Handle Expo dev launcher
- tapOn:
    id: ".*localhost.*"
    optional: true

# Wait for welcome screen using testID
- extendedWaitUntil:
    visible:
      id: "welcome-screen"
    timeout: 20000

# Tap login button using testID
- tapOn:
    id: "login-button"

# Wait for login screen
- extendedWaitUntil:
    visible:
      id: "login-screen"
    timeout: 10000

# Wait a moment for form to be ready
- waitForAnimationToEnd

# Try to tap login submit button
- tapOn:
    id: "submit-login-button"
    optional: true

# Fallback: tap by approximate position of login button
- tapOn:
    point: 50%, 57%
    optional: true

# Wait for home feed
- extendedWaitUntil:
    visible:
      id: "feed-screen"
    timeout: 30000

# ========== TEST TAB NAVIGATION ==========

# Test Fan tab
- tapOn:
    id: "tab-Fan"
- assertVisible:
    id: "tab-Fan"

# Test Vibes tab
- tapOn:
    id: "tab-Vibes"
- assertVisible:
    id: "tab-Vibes"

# Test Xplorer tab (fullscreen mode - no tabs visible after)
- tapOn:
    id: "tab-Xplorer"

# Wait for map to load
- waitForAnimationToEnd

# ========== TEST BOTTOM NAVIGATION ==========

# Use bottom nav to go to Peaks (gets us out of fullscreen map)
- tapOn:
    id: "nav-peaks"

# Use bottom nav to go back to Home
- tapOn:
    id: "nav-home"

# Verify we're back on feed with tabs visible
- extendedWaitUntil:
    visible:
      id: "tab-Fan"
    timeout: 5000

# ========== TEST HEADER BUTTONS ==========

# Test search button
- tapOn:
    id: "search-button"
- waitForAnimationToEnd
- back

# Test notifications button
- tapOn:
    id: "notifications-button"
- waitForAnimationToEnd
- back

# ========== TEST PROFILE ==========

# Navigate to profile
- tapOn:
    id: "nav-profile"

# ========== SUCCESS ==========
# All main navigation flows working!
