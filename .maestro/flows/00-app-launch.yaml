# Test: App Launch, Login, and Navigation
appId: com.nou09.Smuppy
name: "App - Full Navigation Test"
tags:
  - smoke
  - launch
  - auth
  - navigation
---

# Launch app and dismiss dev overlays
- launchApp

# Dismiss Expo Dev Menu / error overlays
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Dismiss"
    optional: true
- tapOn:
    text: "http://localhost:8081"
    optional: true

# Wait for either welcome screen OR feed (if already logged in)
- extendedWaitUntil:
    true:
      or:
        - visible:
            id: "welcome-screen"
        - visible: "Fan"
    timeout: 30000

# If on welcome screen, go through login
- tapOn:
    id: "login-button"
    optional: true

- tapOn:
    id: "submit-login-button"
    optional: true

# Wait for feed
- extendedWaitUntil:
    visible: "Fan"
    timeout: 30000

- takeScreenshot: "00-feed-loaded"

# ========== TEST FEED TAB NAVIGATION ==========

# Test Fan tab
- tapOn: "Fan"
- assertVisible: "Fan"

# Test Vibes tab
- tapOn: "Vibes"
- assertVisible: "Vibes"

# Test Xplorer tab
- tapOn: "Xplorer"
- waitForAnimationToEnd

# ========== TEST BOTTOM NAVIGATION ==========

# Go to Peaks tab
- tapOn:
    id: "peaks-tab"
- waitForAnimationToEnd

# Go back to Home
- tapOn:
    id: "home-tab"

# Verify we're back on feed
- extendedWaitUntil:
    visible: "Fan"
    timeout: 5000

# ========== TEST HEADER BUTTONS ==========

# Test search button
- tapOn:
    id: "search-button"
- waitForAnimationToEnd
- back

# Test notifications button
- tapOn:
    id: "notifications-button"
- waitForAnimationToEnd
- back

# ========== TEST PROFILE ==========

# Navigate to profile
- tapOn:
    id: "profile-tab"
- waitForAnimationToEnd

- takeScreenshot: "00-profile"
