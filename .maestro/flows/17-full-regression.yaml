# Test: Full Regression - Complete App Walkthrough
# This flow tests every major screen in sequence
appId: com.nou09.Smuppy
name: "Regression - Full App Walkthrough"
tags:
  - regression
  - critical
  - smoke
---

- launchApp

# Dismiss Expo Dev Menu / error overlays
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Dismiss"
    optional: true
- tapOn:
    text: "http://localhost:8081"
    optional: true

# ========== 1. HOME / FEEDS ==========

- extendedWaitUntil:
    true:
      or:
        - visible:
            id: "welcome-screen"
        - visible: "Fan"
    timeout: 30000

# If on welcome, tap login (assumes auto-login or skip)
- tapOn:
    id: "login-button"
    optional: true
- tapOn:
    id: "submit-login-button"
    optional: true

- extendedWaitUntil:
    visible: "Fan"
    timeout: 30000

- takeScreenshot: "01-home-fan-feed"

# Fan Feed - scroll
- scroll:
    direction: DOWN
- scroll:
    direction: UP

# Vibes Feed
- tapOn: "Vibes"
- waitForAnimationToEnd
- takeScreenshot: "02-home-vibes-feed"

# Xplorer Feed
- tapOn: "Xplorer"
- waitForAnimationToEnd
- takeScreenshot: "03-home-xplorer-feed"

# Back to Fan
- tapOn: "Fan"

# ========== 2. SEARCH ==========

- tapOn:
    id: "search-button"
- waitForAnimationToEnd
- takeScreenshot: "04-search-screen"
- inputText: "smuppy"
- waitForAnimationToEnd
- takeScreenshot: "05-search-results"
- hideKeyboard
- back

# ========== 3. NOTIFICATIONS ==========

- tapOn:
    id: "notifications-button"
- waitForAnimationToEnd
- takeScreenshot: "06-notifications"
- back

# ========== 4. PEAKS TAB ==========

- tapOn:
    id: "peaks-tab"
- waitForAnimationToEnd
- takeScreenshot: "07-peaks-feed"

# Scroll peaks
- scroll:
    direction: DOWN
- scroll:
    direction: UP

# ========== 5. CREATE TAB ==========

- tapOn:
    id: "create-tab"
- waitForAnimationToEnd
- takeScreenshot: "08-create-screen"
- back

# ========== 6. MESSAGES TAB ==========

- tapOn:
    id: "messages-tab"
- waitForAnimationToEnd
- takeScreenshot: "09-messages-list"

# Scroll conversations
- scroll:
    direction: DOWN
- scroll:
    direction: UP

# ========== 7. PROFILE TAB ==========

- tapOn:
    id: "profile-tab"
- waitForAnimationToEnd
- takeScreenshot: "10-profile-screen"

# Scroll profile
- scroll:
    direction: DOWN
- takeScreenshot: "11-profile-scrolled"
- scroll:
    direction: UP

# ========== 8. SETTINGS ==========

- tapOn:
    id: "settings-button"
- waitForAnimationToEnd
- takeScreenshot: "12-settings-screen"

# Check Edit Profile
- tapOn: "Edit Profile"
- waitForAnimationToEnd
- takeScreenshot: "13-edit-profile"
- back

# Scroll settings
- scroll:
    direction: DOWN
- takeScreenshot: "14-settings-bottom"

# Back to profile
- back

# ========== 9. BACK TO HOME ==========

- tapOn:
    id: "home-tab"

- extendedWaitUntil:
    visible: "Fan"
    timeout: 5000

- takeScreenshot: "15-final-home"
