# Test: Full Regression - Complete App Walkthrough
# This flow tests every major screen in sequence
appId: com.nou09.Smuppy
name: "Regression - Full App Walkthrough"
tags:
  - regression
  - critical
  - smoke
---

- launchApp

# Dismiss dev overlays
- tapOn:
    text: "Continue"
    optional: true
- tapOn:
    text: "Dismiss"
    optional: true

# Wait for welcome screen or feed to load
- extendedWaitUntil:
    visible:
      id: "welcome-screen"
    timeout: 15000

# Wait for button animations to finish
- waitForAnimationToEnd

# Handle welcome screen if not logged in â€” wait for button to appear
- extendedWaitUntil:
    visible:
      id: "login-button"
    timeout: 10000

- tapOn:
    id: "login-button"
    optional: true
- waitForAnimationToEnd

# ========== 1. HOME / FEEDS ==========

# Wait for feed to load (after login or if already logged in)
- extendedWaitUntil:
    visible: "Fan"
    timeout: 30000

- takeScreenshot: "01-home-fan-feed"

# Fan Feed - scroll
- swipe:
    direction: UP
    duration: 400
- swipe:
    direction: DOWN
    duration: 400

# Vibes Feed
- tapOn: "Vibes"
- waitForAnimationToEnd
- takeScreenshot: "02-home-vibes-feed"

# Xplorer Feed
- tapOn: "Xplorer"
- waitForAnimationToEnd
- takeScreenshot: "03-home-xplorer-feed"

# Back to Fan
- tapOn: "Fan"

# ========== 2. SEARCH ==========

- tapOn:
    id: "search-button"
- waitForAnimationToEnd
- takeScreenshot: "04-search-screen"
- inputText: "smuppy"
- waitForAnimationToEnd
- takeScreenshot: "05-search-results"
- hideKeyboard
- back

# ========== 3. NOTIFICATIONS ==========

- tapOn:
    id: "notifications-button"
- waitForAnimationToEnd
- takeScreenshot: "06-notifications"
- back

# ========== 4. PEAKS TAB ==========

- tapOn:
    id: "peaks-tab"
- waitForAnimationToEnd
- takeScreenshot: "07-peaks-feed"

# Scroll peaks
- swipe:
    direction: UP
    duration: 400
- swipe:
    direction: DOWN
    duration: 400

# ========== 5. CREATE TAB ==========

- tapOn:
    id: "create-tab"
- waitForAnimationToEnd
- takeScreenshot: "08-create-screen"
- back

# ========== 6. MESSAGES TAB ==========

- tapOn:
    id: "messages-tab"
- waitForAnimationToEnd
- takeScreenshot: "09-messages-list"

# Scroll conversations
- swipe:
    direction: UP
    duration: 400
- swipe:
    direction: DOWN
    duration: 400

# ========== 7. PROFILE TAB ==========

- tapOn:
    id: "profile-tab"
- waitForAnimationToEnd
- takeScreenshot: "10-profile-screen"

# Scroll profile
- swipe:
    direction: UP
    duration: 400
- takeScreenshot: "11-profile-scrolled"
- swipe:
    direction: DOWN
    duration: 400

# ========== 8. SETTINGS ==========

- tapOn:
    id: "settings-button"
- waitForAnimationToEnd
- takeScreenshot: "12-settings-screen"

# Check Edit Profile
- tapOn: "Edit Profile"
- waitForAnimationToEnd
- takeScreenshot: "13-edit-profile"
- back

# Scroll settings
- swipe:
    direction: UP
    duration: 400
- takeScreenshot: "14-settings-bottom"

# Back to profile
- back

# ========== 9. BACK TO HOME ==========

- tapOn:
    id: "home-tab"

- extendedWaitUntil:
    visible: "Fan"
    timeout: 5000

- takeScreenshot: "15-final-home"
